#
#  extract a service request id from a sync response to a referral request
#
__ID__	's1'	ID
__SERVICE_REQUEST_ID__	(if (/fhir:Bundle/fhir:entry/fhir:resource/fhir:ServiceRequest/fhir:id/@value) then /fhir:Bundle/fhir:entry/fhir:resource/fhir:ServiceRequest/fhir:id/@value else '')
__HEALTHCARE_SERVICE_ID__	(if (/fhir:Bundle/fhir:entry/fhir:resource/fhir:HealthcareService/fhir:id/@value) then /fhir:Bundle/fhir:entry/fhir:resource/fhir:HealthcareService/fhir:id/@value else '')
__ENCOUNTER_ID__	(if (/fhir:Bundle/fhir:entry/fhir:resource/fhir:Encounter/fhir:id/@value) then /fhir:Bundle/fhir:entry/fhir:resource/fhir:Encounter/fhir:id/@value else '')
__PATIENT_ID__	(if (/fhir:Bundle/fhir:entry/fhir:resource/fhir:Patient/fhir:id/@value) then /fhir:Bundle/fhir:entry/fhir:resource/fhir:Patient/fhir:id/@value else '')
__ORG1_ID__	(if ((/fhir:Bundle/fhir:entry/fhir:resource/fhir:Organization)[1]/fhir:id/@value) then (/fhir:Bundle/fhir:entry/fhir:resource/fhir:Organization)[1]/fhir:id/@value else '')
__ORG2_ID__	(if ((/fhir:Bundle/fhir:entry/fhir:resource/fhir:Organization)[2]/fhir:id/@value) then (/fhir:Bundle/fhir:entry/fhir:resource/fhir:Organization)[2]/fhir:id/@value else '')
__ORG3_ID__	(if ((/fhir:Bundle/fhir:entry/fhir:resource/fhir:Organization)[3]/fhir:id/@value) then (/fhir:Bundle/fhir:entry/fhir:resource/fhir:Organization)[3]/fhir:id/@value else '')
__ORG4_ID__	(if ((/fhir:Bundle/fhir:entry/fhir:resource/fhir:Organization)[4]/fhir:id/@value) then (/fhir:Bundle/fhir:entry/fhir:resource/fhir:Organization)[4]/fhir:id/@value else '')
__ORG5_ID__	(if ((/fhir:Bundle/fhir:entry/fhir:resource/fhir:Organization)[5]/fhir:id/@value) then (/fhir:Bundle/fhir:entry/fhir:resource/fhir:Organization)[5]/fhir:id/@value else '')
__LOCATION_ID__	(if (/fhir:Bundle/fhir:entry/fhir:resource/fhir:Location[1]/fhir:id/@value) then /fhir:Bundle/fhir:entry/fhir:resource/fhir:Location[1]/fhir:id/@value else '')
__LOCATION2_ID__	if (/fhir:Bundle/fhir:entry/fhir:resource/fhir:Location[2]/fhir:id/@value) then /fhir:Bundle/fhir:entry/fhir:resource/fhir:Location[2]/fhir:id/@value else '')
__LOCATION3_ID__	(if (/fhir:Bundle/fhir:entry/fhir:resource/fhir:Location[3]/fhir:id/@value) then /fhir:Bundle/fhir:entry/fhir:resource/fhir:Location[3]/fhir:id/@value else '')
__PRACTITIONER1_ID__	(if ((/fhir:Bundle/fhir:entry/fhir:resource/fhir:Practitioner)[1]/fhir:id/@value) then (/fhir:Bundle/fhir:entry/fhir:resource/fhir:Practitioner)[1]/fhir:id/@value else '')
__PRACTITIONER2_ID__	(if ((/fhir:Bundle/fhir:entry/fhir:resource/fhir:Practitioner)[2]/fhir:id/@value) then (/fhir:Bundle/fhir:entry/fhir:resource/fhir:Practitioner)[2]/fhir:id/@value else '')
__PRACTITIONER_ROLE1_ID__	(if ((/fhir:Bundle/fhir:entry/fhir:resource/fhir:PractitionerRole)[1]/fhir:id/@value) then (/fhir:Bundle/fhir:entry/fhir:resource/fhir:PractitionerRole)[1]/fhir:id/@value else '')
__PRACTITIONER_ROLE2_ID__	(if ((/fhir:Bundle/fhir:entry/fhir:resource/fhir:PractitionerRole)[2]/fhir:id/@value) then (/fhir:Bundle/fhir:entry/fhir:resource/fhir:PractitionerRole)[2]/fhir:id/@value else '')
__MEDICATION_STATEMENT_ID__	(if (/fhir:Bundle/fhir:entry/fhir:resource/fhir:MedicationStatement/fhir:id/@value) then /fhir:Bundle/fhir:entry/fhir:resource/fhir:MedicationStatement/fhir:id/@value else '')
__ALLERGY_INTOLERANCE_ID__	(if (/fhir:Bundle/fhir:entry/fhir:resource/fhir:AllergyIntolerance/fhir:id/@value) then /fhir:Bundle/fhir:entry/fhir:resource/fhir:AllergyIntolerance/fhir:id/@value else '')
__FLAG1_ID__	(if ((/fhir:Bundle/fhir:entry/fhir:resource/fhir:Flag)[1]/fhir:id/@value) then (/fhir:Bundle/fhir:entry/fhir:resource/fhir:Flag)[1]/fhir:id/@value else '')
__FLAG2_ID__	(if ((/fhir:Bundle/fhir:entry/fhir:resource/fhir:Flag)[2]/fhir:id/@value) then (/fhir:Bundle/fhir:entry/fhir:resource/fhir:Flag)[2]/fhir:id/@value else '')
__FLAG3_ID__	(if ((/fhir:Bundle/fhir:entry/fhir:resource/fhir:Flag)[3]/fhir:id/@value) then (/fhir:Bundle/fhir:entry/fhir:resource/fhir:Flag)[3]/fhir:id/@value else '')
__QUESTIONNAIRE1_ID__	(if ((/fhir:Bundle/fhir:entry/fhir:resource/fhir:Questionnaire)[1]/fhir:id/@value) then (/fhir:Bundle/fhir:entry/fhir:resource/fhir:Questionnaire)[1]/fhir:id/@value else '')
__QUESTIONNAIRE2_ID__	(if ((/fhir:Bundle/fhir:entry/fhir:resource/fhir:Questionnaire)[2]/fhir:id/@value) then (/fhir:Bundle/fhir:entry/fhir:resource/fhir:Questionnaire)[2]/fhir:id/@value else '')
__QUESTIONNAIRE_RESPONSE1_ID__	(if ((/fhir:Bundle/fhir:entry/fhir:resource/fhir:QuestionnaireResponse)[1]/fhir:id/@value) then (/fhir:Bundle/fhir:entry/fhir:resource/fhir:QuestionnaireResponse)[1]/fhir:id/@value else '')
__QUESTIONNAIRE_RESPONSE2_ID__	(if ((/fhir:Bundle/fhir:entry/fhir:resource/fhir:QuestionnaireResponse)[2]/fhir:id/@value) then (/fhir:Bundle/fhir:entry/fhir:resource/fhir:QuestionnaireResponse)[2]/fhir:id/@value else '')
__OBSERVATION1_ID__	(if ((/fhir:Bundle/fhir:entry/fhir:resource/fhir:Observation)[1]/fhir:id/@value) then (/fhir:Bundle/fhir:entry/fhir:resource/fhir:Observation)[1]/fhir:id/@value else '')
__OBSERVATION2_ID__	(if ((/fhir:Bundle/fhir:entry/fhir:resource/fhir:Observation)[2]/fhir:id/@value) then (/fhir:Bundle/fhir:entry/fhir:resource/fhir:Observation)[2]/fhir:id/@value else '')
__OBSERVATION3_ID__	(if ((/fhir:Bundle/fhir:entry/fhir:resource/fhir:Observation)[2]/fhir:id/@value) then (/fhir:Bundle/fhir:entry/fhir:resource/fhir:Observation)[3]/fhir:id/@value else '')
__OBSERVATION4_ID__	(if ((/fhir:Bundle/fhir:entry/fhir:resource/fhir:Observation)[4]/fhir:id/@value) then (/fhir:Bundle/fhir:entry/fhir:resource/fhir:Observation)[4]/fhir:id/@value else '')
__OBSERVATION5_ID__	(if ((/fhir:Bundle/fhir:entry/fhir:resource/fhir:Observation)[5]/fhir:id/@value) then (/fhir:Bundle/fhir:entry/fhir:resource/fhir:Observation)[5]/fhir:id/@value else '')
__CONSENT_ID__	(if (/fhir:Bundle/fhir:entry/fhir:resource/fhir:Consent/fhir:id/@value) then /fhir:Bundle/fhir:entry/fhir:resource/fhir:Consent/fhir:id/@value else '')
__CAREPLAN_ID__	(if (/fhir:Bundle/fhir:entry/fhir:resource/fhir:CarePlan/fhir:id/@value) then /fhir:Bundle/fhir:entry/fhir:resource/fhir:CarePlan/fhir:id/@value else '')
__CORRELATION_ID__	httpheader X-Correlation-ID
__REQUEST_ID__	httpheader X-Request-ID
__CAREPLAN_ID__	(if (/fhir:Bundle/fhir:entry/fhir:resource/fhir:CarePlan/fhir:id/@value) then /fhir:Bundle/fhir:entry/fhir:resource/fhir:CarePlan/fhir:id/@value else '')
__BUNDLE_ID__	(//fhir:Bundle/fhir:id/@value)
__TASK_ID__	(if (/fhir:Bundle/fhir:entry/fhir:resource/fhir:Task/fhir:id/@value) then /fhir:Bundle/fhir:entry/fhir:resource/fhir:Task/fhir:id/@value else '')
__CONDITION_ID__	(if (/fhir:Bundle/fhir:entry/fhir:resource/fhir:Condition/fhir:id/@value) then /fhir:Bundle/fhir:entry/fhir:resource/fhir:Condition/fhir:id/@value else '')
__COMMUNICATION_ID__	(if (/fhir:Bundle/fhir:entry/fhir:resource/fhir:Communication/fhir:id/@value) then /fhir:Bundle/fhir:entry/fhir:resource/fhir:Communication/fhir:id/@value else '')
__PROCEDURE_ID__	(if (/fhir:Bundle/fhir:entry/fhir:resource/fhir:Procedure/fhir:id/@value) then /fhir:Bundle/fhir:entry/fhir:resource/fhir:Procedure/fhir:id/@value else '')
__RECEIVER_ENCOUNTER_FULLURL__	(if (/fhir:Bundle/fhir:entry[fhir:fullUrl/@value!=//fhir:ServiceRequest/fhir:encounter/fhir:reference/@value][fhir:resource/fhir:Encounter]/fhir:fullUrl/@value) then /fhir:Bundle/fhir:entry[fhir:fullUrl/@value!=//fhir:ServiceRequest/fhir:encounter/fhir:reference/@value][fhir:resource/fhir:Encounter]/fhir:fullUrl/@value else '')
__RECEIVER_ENCOUNTER_ID__	(if (/fhir:Bundle/fhir:entry[fhir:fullUrl/@value!=//fhir:ServiceRequest/fhir:encounter/fhir:reference/@value]/fhir:resource/fhir:Encounter/fhir:id/@value) then /fhir:Bundle/fhir:entry[fhir:fullUrl/@value!=//fhir:ServiceRequest/fhir:encounter/fhir:reference/@value]/fhir:resource/fhir:Encounter/fhir:id/@value else '')
__RECEIVER_ENCOUNTER_LASTUPDATED__	(if (/fhir:Bundle/fhir:entry[fhir:fullUrl/@value!=//fhir:ServiceRequest/fhir:encounter/fhir:reference/@value]/fhir:resource/fhir:Encounter/fhir:meta/fhir:lastUpdated/@value) then /fhir:Bundle/fhir:entry[fhir:fullUrl/@value!=//fhir:ServiceRequest/fhir:encounter/fhir:reference/@value]/fhir:resource/fhir:Encounter/fhir:meta/fhir:lastUpdated/@value else '')
__RECEIVER_ENCOUNTER_IDENTIFIER_SYSTEM__	(if (/fhir:Bundle/fhir:entry[fhir:fullUrl/@value!=//fhir:ServiceRequest/fhir:encounter/fhir:reference/@value]/fhir:resource/fhir:Encounter/fhir:identifier/fhir:system/@value) then /fhir:Bundle/fhir:entry[fhir:fullUrl/@value!=//fhir:ServiceRequest/fhir:encounter/fhir:reference/@value]/fhir:resource/fhir:Encounter/fhir:identifier/fhir:system/@value else '')
__RECEIVER_ENCOUNTER_IDENTIFIER__	(if (/fhir:Bundle/fhir:entry[fhir:fullUrl/@value!=//fhir:ServiceRequest/fhir:encounter/fhir:reference/@value]/fhir:resource/fhir:Encounter/fhir:identifier/fhir:value/@value) then /fhir:Bundle/fhir:entry[fhir:fullUrl/@value!=//fhir:ServiceRequest/fhir:encounter/fhir:reference/@value]/fhir:resource/fhir:Encounter/fhir:identifier/fhir:value/@value else '')
__RECEIVER_ENCOUNTER_STATUS__	(if (/fhir:Bundle/fhir:entry[fhir:fullUrl/@value!=//fhir:ServiceRequest/fhir:encounter/fhir:reference/@value]/fhir:resource/fhir:Encounter/fhir:status/@value) then /fhir:Bundle/fhir:entry[fhir:fullUrl/@value!=//fhir:ServiceRequest/fhir:encounter/fhir:reference/@value]/fhir:resource/fhir:Encounter/fhir:status/@value else '')
__RECEIVER_ENCOUNTER_SUBJECT_REF__	(if (/fhir:Bundle/fhir:entry[fhir:fullUrl/@value!=//fhir:ServiceRequest/fhir:encounter/fhir:reference/@value]/fhir:resource/fhir:Encounter/fhir:subject/fhir:reference/@value) then /fhir:Bundle/fhir:entry[fhir:fullUrl/@value!=//fhir:ServiceRequest/fhir:encounter/fhir:reference/@value]/fhir:resource/fhir:Encounter/fhir:subject/fhir:reference/@value else '')
__RECEIVER_ENCOUNTER_EPISODEOFCARE_REF__	(if (/fhir:Bundle/fhir:entry[fhir:fullUrl/@value!=//fhir:ServiceRequest/fhir:encounter/fhir:reference/@value]/fhir:resource/fhir:Encounter/fhir:episodeOfCare/fhir:reference/@value) then /fhir:Bundle/fhir:entry[fhir:fullUrl/@value!=//fhir:ServiceRequest/fhir:encounter/fhir:reference/@value]/fhir:resource/fhir:Encounter/fhir:episodeOfCare/fhir:reference/@value else '')
__RECEIVER_ENCOUNTER_PERIODSTART_REF__	(if (/fhir:Bundle/fhir:entry[fhir:fullUrl/@value!=//fhir:ServiceRequest/fhir:encounter/fhir:reference/@value]/fhir:resource/fhir:Encounter/fhir:period/fhir:start/@value) then /fhir:Bundle/fhir:entry[fhir:fullUrl/@value!=//fhir:ServiceRequest/fhir:encounter/fhir:reference/@value]/fhir:resource/fhir:Encounter/fhir:period/fhir:start/@value else '')
